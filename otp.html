<!DOCTYPE html>
<html>
  <head>
    <title>OTP Verification | Nordstrom Rack</title>
    <link rel="stylesheet" type="text/css" href="./Style/otp.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"
    />
    <link
      rel="icon"
      href="https://n.nordstrommedia.com/id/12bcd953-0629-48b9-9997-5c5198a3c76d.png"
      sizes="16x16"
    />
    <link
      rel="icon"
      href="https://n.nordstrommedia.com/id/637eb4b8-30e6-4c41-8dc0-7a004d1e8c37.png"
      sizes="32x32"
    />
    <link
      rel="icon"
      href="https://n.nordstrommedia.com/id/4041c704-7e86-473c-bf3b-2684152049a8.png"
      sizes="96x96"
    />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    />
  </head>

  <body>
    <div id="navbar">
      <div>
        <a href="index.html"
          ><img src="./Image/nordstrom-rack-logo.png" alt=""
        /></a>
      </div>

      <div>
        <a href="cart.html"
          ><img
            src="http://cdn.onlinewebfonts.com/svg/img_343947.png"
            alt="cart"
        /></a>
      </div>
    </div>
    <div id="maindiv">
      <div class="container d-flex justify-content-center align-items-center">
        <div class="card text-center">
          <div class="card-header p-5">
            <img src="./Image/mobile.png" />
            <h5 class="mb-2">OTP VERIFICATION</h5>
            <div>
              <small>code has been send to ******9784</small>
            </div>
          </div>

          <div
            class="input-container d-flex flex-row justify-content-center mt-2"
          >
            <input
              id="f1"
              type="text"
              class="m-1 text-center form-control rounded"
              maxlength="1"
            />
            <input
              id="f2"
              type="text"
              class="m-1 text-center form-control rounded"
              maxlength="1"
            />
            <input
              id="f3"
              type="text"
              class="m-1 text-center form-control rounded"
              maxlength="1"
            />
            <input
              id="f4"
              type="text"
              class="m-1 text-center form-control rounded"
              maxlength="1"
            />
            <input
              id="f5"
              type="text"
              class="m-1 text-center form-control rounded"
              maxlength="1"
            />
          </div>

          <div>
            <small>
              didn't get the otp
              <a href="#" class="text-decoration-none" onclick="resend()"
                >Resend</a
              >
            </small>
          </div>

          <div class="mt-3 mb-5">
            <button class="btn btn-success px-4 verify-btn" onclick="verify()">
              verify
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  let otp = "";
  let generateOTP = () => {
    var digits = "0123456789";
    let OTP = "";
    for (let i = 0; i < 5; i++) {
      OTP += digits[Math.floor(Math.random() * 10)];
    }
    otp += OTP;
  };

  generateOTP();
  alert(`Your OTP is : ${otp}`);

  let uOtp = "";
  let verify = () => {
    let o1 = document.getElementById("f1").value;
    let o2 = document.getElementById("f2").value;
    let o3 = document.getElementById("f3").value;
    let o4 = document.getElementById("f4").value;
    let o5 = document.getElementById("f5").value;
    uOtp += o1 + o2 + o3 + o4 + o5;
    if (uOtp === otp) {
      alert("OTP Verified Successfully");
      window.location.href = "order_confirmation.html";
    } else {
      alert("Invalid OTP Entered");
    }
  };

  let resend = () => {
    window.location.reload();
  };
</script>
